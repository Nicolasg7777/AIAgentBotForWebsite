# FINAL SETUP GUIDE - Do This Today!

## ‚è±Ô∏è Total Time: ~20 minutes

---

## üéØ Part 1: Supabase Setup (5 min)

### 1. Create Supabase Account
1. Go to https://supabase.com
2. Click "Start your project"
3. Sign up with GitHub (fastest)

### 2. Create Project
1. Click "New Project"
2. Name: "ai-support-agent" (or your choice)
3. Database Password: (save this somewhere safe)
4. Region: Choose closest to your users
5. Click "Create new project"
6. ‚è≥ Wait 2 minutes for project to initialize

### 3. Run SQL Schema
1. In Supabase Dashboard ‚Üí SQL Editor
2. Click "New Query"
3. Paste this SQL:

```sql
create table if not exists profiles (
  id uuid primary key default gen_random_uuid(),
  full_name text,
  email text,
  phone text,
  created_at timestamptz default now()
);

create table if not exists sessions (
  id uuid primary key default gen_random_uuid(),
  profile_id uuid references profiles(id) on delete set null,
  started_at timestamptz default now(),
  last_activity_at timestamptz default now(),
  status text default 'open'
);

create table if not exists messages (
  id bigint generated by default as identity primary key,
  session_id uuid references sessions(id) on delete cascade,
  sender text check (sender in ('user','bot')),
  content text,
  created_at timestamptz default now()
);

create table if not exists bookings (
  id uuid primary key default gen_random_uuid(),
  session_id uuid references sessions(id) on delete set null,
  profile_id uuid references profiles(id) on delete set null,
  calendly_link text,
  scheduled_for timestamptz,
  reminder_email_sent boolean default false,
  created_at timestamptz default now()
);

-- Enable Row Level Security
alter table profiles enable row level security;
alter table sessions enable row level security;
alter table messages enable row level security;
alter table bookings enable row level security;

-- Allow anonymous inserts (for chat widget)
create policy "Allow anonymous inserts" on profiles for insert with check (true);
create policy "Allow anonymous inserts" on sessions for insert with check (true);
create policy "Allow anonymous inserts" on messages for insert with check (true);
create policy "Allow anonymous inserts" on bookings for insert with check (true);

-- Allow anonymous updates to sessions
create policy "Allow anonymous updates" on sessions for update using (true);

-- Allow reading own data
create policy "Allow select" on profiles for select using (true);
create policy "Allow select" on sessions for select using (true);
create policy "Allow select" on messages for select using (true);
create policy "Allow select" on bookings for select using (true);
```

4. Click "Run" (or press Ctrl+Enter)
5. ‚úÖ You should see "Success. No rows returned"

### 4. Get API Credentials
1. Supabase Dashboard ‚Üí Settings ‚Üí API
2. **Copy these values:**
   - Project URL (looks like `https://abcdefgh.supabase.co`)
   - `anon` `public` key (long string starting with `eyJ...`)
3. **Save them in a notepad** - you'll need them in 2 minutes!

---

## üìÖ Part 2: Calendly Setup (3 min)

### 1. Create Calendly Account
1. Go to https://calendly.com/signup
2. Sign up (free plan is fine)

### 2. Set Your Availability
1. After signup ‚Üí "Set your availability"
2. Choose your working hours (e.g., Mon-Fri 9am-5pm)
3. Click "Continue"

### 3. Create Event Type
1. Click "Create" ‚Üí "Event Type"
2. One-on-One is fine
3. Event name: "Customer Support Call" (or your choice)
4. Duration: 15 or 30 minutes
5. Click "Create"

### 4. Get Your Scheduling Link
1. Click on your event type
2. Look for "Your event link" (looks like `https://calendly.com/yourname/15min`)
3. **Copy this link** - save in notepad!

---

## ü§ñ Part 2.5: Get FREE AI Key (2 min) ‚≠ê NEW!

### Enable Natural AI Conversations
1. Go to https://aistudio.google.com/app/apikey
2. Sign in with your Google account (no card needed!)
3. Click "Create API Key"
4. Copy the key (starts with `AIzaSy...`)
5. **Save in notepad** - you'll need this in 1 minute!

**Why?** This unlocks real AI conversations:
- ‚úÖ Bot understands context and questions naturally
- ‚úÖ Reliably collects all required info
- ‚úÖ Handles 20-25 concurrent users
- ‚úÖ 100% FREE (60 requests/min, 1,500/day)

**Without AI key?** Widget still works in simple FAQ mode (just less smart).

---

## ‚öôÔ∏è Part 3: Configure the Widget (5 min)

### Option A: Use PowerShell Script (Easiest)

1. Open PowerShell
2. Run this (replace with YOUR values):

```powershell
cd "c:\Users\garci\RepositoryFolder\AIAgentBotForWebsite"

# REPLACE THESE WITH YOUR ACTUAL VALUES!
$SUPABASE_URL = "https://YOUR-PROJECT.supabase.co"
$SUPABASE_ANON_KEY = "eyJhbGc..."  # Your long anon key
$CALENDLY_LINK = "https://calendly.com/YOURNAME/15min"
$GEMINI_API_KEY = "AIzaSy..."  # Your Gemini AI key ‚≠ê NEW
$SUPPORT_AGENT_NAME = "Support Bot"

# Run the replacement
(Get-Content "web/wpcode-snippet.html") `
  -replace 'YOUR_SUPABASE_URL', $SUPABASE_URL `
  -replace 'YOUR_SUPABASE_ANON_KEY', $SUPABASE_ANON_KEY `
  -replace 'https://calendly.com/yourname/15min', $CALENDLY_LINK `
  -replace 'YOUR_GEMINI_API_KEY', $GEMINI_API_KEY `
  -replace 'Support Bot', $SUPPORT_AGENT_NAME |
  Set-Content "web/wpcode-snippet.html"

Write-Host "‚úÖ Configuration complete! Check web/wpcode-snippet.html"
```

### Option B: Manual Edit

1. Open `web/wpcode-snippet.html` in VS Code
2. Find these lines (around line 15):
```javascript
const CONFIG = {
  SUPABASE_URL: 'YOUR_SUPABASE_URL',
  SUPABASE_ANON_KEY: 'YOUR_SUPABASE_ANON_KEY',
  CALENDLY_LINK: 'https://calendly.com/yourname/15min',
  SUPPORT_AGENT_NAME: 'Support Bot'
};
```
3. Replace with your actual values
4. Save the file (Ctrl+S)

---

## üåê Part 4: Add to WordPress (3 min)

### 1. Open WPCode
1. WordPress Admin ‚Üí WPCode ‚Üí "+ Add Snippet"
2. Click "Add Your Custom Code (New Snippet)"
3. Choose "JavaScript Snippet"

### 2. Paste the Code
1. Open `web/wpcode-snippet.html` (the one you just configured)
2. Select ALL (Ctrl+A) and copy (Ctrl+C)
3. Paste into the WPCode editor

### 3. Configure Settings
1. Title: "AI Support Chat Widget"
2. Location: **Footer**
3. Device Type: All Devices
4. Priority: 1
5. Toggle switch to **Active**
6. Click "Save Snippet"

### 4. Test It!
1. Open your website in a new tab
2. Wait 3-5 seconds for page to load
3. **Look for the blue "Chat with us" button in the bottom-right!** üéâ
4. Click it and test sending a message

---

## üìä Part 5: Deploy Dashboard (5 min)

### Option A: Cloudflare Pages (Recommended)

1. **Push to GitHub first:**
```powershell
cd "c:\Users\garci\RepositoryFolder\AIAgentBotForWebsite"

# Add remote (create GitHub repo first at github.com/new)
git remote add origin https://github.com/YOUR-USERNAME/AIAgentBotForWebsite.git

# Push
git push -u origin main
```

2. **Deploy to Cloudflare:**
   1. Go to https://pages.cloudflare.com
   2. Sign up / Log in
   3. Click "Create a project"
   4. Click "Connect to Git"
   5. Authorize GitHub
   6. Select `AIAgentBotForWebsite` repository
   7. Build settings:
      - Framework preset: None
      - Build command: (leave empty)
      - Build output directory: `web`
   8. Click "Save and Deploy"
   9. ‚è≥ Wait 1-2 minutes
   10. ‚úÖ Your dashboard is live! (e.g., `aiagentbot.pages.dev`)

3. **Access Dashboard:**
   1. Visit your dashboard URL
   2. Enter your Supabase URL and anon key
   3. Click "Connect"
   4. You should see sessions and bookings!

### Option B: Hostinger Upload

1. Hostinger Control Panel ‚Üí File Manager
2. Navigate to `public_html`
3. Create folder: `dashboard`
4. Upload `web/dashboard.html` and `web/dashboard.js`
5. Visit `https://yourwebsite.com/dashboard/dashboard.html`

---

## ‚úÖ DONE! What You Have Now:

‚úÖ **Chat widget** on your WordPress site (bottom-right corner)  
‚úÖ **Supabase database** logging all conversations  
‚úÖ **Calendly integration** for scheduling meetings  
‚úÖ **Dashboard** to view all activity  
‚úÖ **Fully functional** AI support agent  
‚úÖ **100% FREE** hosting (within free tier limits)  

---

## üéØ Quick Test Checklist:

- [ ] Visit your WordPress site - see chat button?
- [ ] Click button - does widget open?
- [ ] Send a message - does bot respond?
- [ ] Check Supabase ‚Üí Table Editor ‚Üí messages - see your message?
- [ ] Visit dashboard - see the session?
- [ ] Complete the full flow (name, email, phone, availability)
- [ ] Check if Calendly link appears in chat
- [ ] Verify booking in dashboard

---

## üöÄ Next Steps (Optional - Do Later):

### Add Email Reminders:
See [README.md](README.md) section "Email Reminders (Optional)"

### Add SMS Reminders:
See [README.md](README.md) section "SMS Reminders (Optional)"

### Customize Styling:
Edit `web/chat-widget.css` to match your brand colors

### Add More FAQ Responses:
Edit the `simpleFAQ` function in `web/chat-widget.js`

---

## üÜò Having Issues?

See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common problems and solutions.

**Most Common Issues:**
1. **Chat button not appearing:** Check browser console (F12) for errors
2. **Messages not saving:** Verify Supabase credentials in wpcode-snippet.html
3. **Dashboard not connecting:** Double-check Supabase URL and anon key

---

## üìû Need Help?

1. Check [TROUBLESHOOTING.md](TROUBLESHOOTING.md)
2. Review browser console (F12 ‚Üí Console tab)
3. Check Supabase logs (Dashboard ‚Üí Logs ‚Üí API)
4. Post issue on GitHub with error screenshots

---

**üéâ Congratulations! Your AI support agent is live!**
